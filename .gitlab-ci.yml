stages:
    - deploy

before_script:
    - 'which ssh-agent'
    - 'eval $(ssh-agent -s)'
    - 'echo -e "Host *\n\tStrictHostKeyChecking no\n\n" > ~/.ssh/config'

# ----------------------------------- AMBIENTES DE PRODUCAO - v2 -------------------------------------

cmarinos:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@cmarinos.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@cmarinos.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

cmbocaiuva:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@cmbocaiuva.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@cmbocaiuva.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

cmcapitaoeneas:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@cmcapitaoeneas "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@cmcapitaoeneas "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

cmmoc:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.250.30.27 "cd /var/www/e-cidade && git pull origin master "'
        - 'ssh -p22 contass@10.250.30.27 "cd /var/www/e-cidade && php deploy_git.php "'
    environment: production
    only:
        - master

cmnavarro:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.4 "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@10.251.27.4 "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

cmuba:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@cmuba.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@cmuba.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

e-cidade:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@e-cidade.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@e-cidade.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

pmvarzelandia:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@pmvarzelandia.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@pmvarzelandia.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

pmverdelandia:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@pmverdelandia.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@pmverdelandia.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

pmibiracatu:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@pmibiracatu.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@pmibiracatu.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

prevmoc:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no ecidade@prevmoc.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 ecidade@prevmoc.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

pmsaofrancisco:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@pmsaofrancisco.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@pmsaofrancisco.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

pmclarodospocoes:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@pmclarodospocoes.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@pmclarodospocoes.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

mctrans:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no ecidade@10.251.27.64 "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 ecidade@10.251.27.64 "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

prefeituras:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@prefeituras.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@prefeituras.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

cmpirapora:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@cmpirapora.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@cmpirapora.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

pmlagoadospatos:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@pmlagoadospatos.contassconsultoria.com.br "cd /var/www/e-cidade-git && git pull origin master "'
        - 'ssh -p22 contass@pmlagoadospatos.contassconsultoria.com.br "cd /var/www/e-cidade-git && php deploy_git.php "'
    environment: production
    only:
        - master

prefeituras2:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.250.30.24 "cd /var/www/e-cidade && git checkout . && git pull origin master "'
        - 'ssh -p22 contass@10.250.30.24 "cd /var/www/e-cidade && git checkout . && php deploy_git.php "'
    environment: production
    only:
        - master

pmmonteazul:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.102 "cd /var/www/e-cidade && git checkout . && git pull origin master "'
        - 'ssh -p22 contass@10.251.27.102 "cd /var/www/e-cidade && git checkout . && php deploy_git.php "'
    environment: production
    only:
        - master

pmmontalvania:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.103 "cd /var/www/e-cidade && git checkout . && git pull origin master "'
        - 'ssh -p22 contass@10.251.27.103 "cd /var/www/e-cidade && git checkout . && php deploy_git.php "'
    environment: production
    only:
        - master

pmsantafe:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.105 "cd /var/www/e-cidade && git checkout . && git pull origin master "'
        - 'ssh -p22 contass@10.251.27.105 "cd /var/www/e-cidade && git checkout . && php deploy_git.php "'
    environment: production
    only:
        - master

curraldedentro:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.106 "cd /var/www/e-cidade && git checkout . && git pull origin master "'
        - 'ssh -p22 contass@10.251.27.106 "cd /var/www/e-cidade && git checkout . && php deploy_git.php "'
    environment: production
    only:
        - master

pmubai:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.13 "cd /var/www/e-cidade && git checkout . && git pull origin master "'
        - 'ssh -p22 contass@10.251.27.13 "cd /var/www/e-cidade && git checkout . && php deploy_git.php "'
    environment: production
    only:
        - master

# ----------------------------------- AMBIENTES DE PRODUCAO - v2 -------------------------------------

pmjuramento:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.115 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.115 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

ecidade_v3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no info@10.251.27.113 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install  "'
        - 'ssh -p22 info@10.251.27.113 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmburitizeiro:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.110 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.110 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmmonteazul_v3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.112 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.112 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmsaogoncalodoriopreto:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.127 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.127 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmsantafev3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.124 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.124 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmfranciscodumont:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no info@10.251.27.113 "cd /var/www/pmfranciscodumont && git pull origin ecidade_v3 && ./composer.phar install "'
    environment: production
    only:
        - ecidade_v3

cismesf:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no info@10.251.27.113 "cd /var/www/cismesf && git pull origin ecidade_v3 && ./composer.phar install "'
    environment: production
    only:
        - ecidade_v3

cias:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no info@10.251.27.113 "cd /var/www/cias && git pull origin ecidade_v3 && ./composer.phar install "'
    environment: production
    only:
        - ecidade_v3


treinamentoconsorcio:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no info@10.251.27.113 "cd /var/www/treinamentoconsorcio && git pull origin ecidade_v3 && ./composer.phar install "'
    environment: production
    only:
        - ecidade_v3

pmmontalvaniav3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.117 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.117 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmpedrasdemariadacruzv3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.121 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.121 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmsaoromaov3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.130 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.130 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmsaojoaodapontev3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.131 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.131 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmverdelandiav3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.125 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.125 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmpiraporav3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.134 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.134 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmgraomogolv3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.119 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.119 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmserranopolisv3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.126 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.126 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

codanortev3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.133 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.133 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmubaiv3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.120 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.120 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmclarodospocoesv3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.118 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.118 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmvarzelandiav3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.135 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.135 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

pmibiracatuv3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.251.27.123 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install "'
        - 'ssh -p22 contass@10.251.27.123 "cd /var/www/e-cidade && php deploy_git.php"'
    environment: production
    only:
        - ecidade_v3

e-cidadev3:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.250.30.100 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install  "'
        - 'ssh -p22 contass@10.250.30.100 "cd /var/www/e-cidade && php deploy_git.php "'
    environment: production
    only:
        - ecidade_v3

ammesf:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.250.30.100 "cd /var/www/ammesf && git pull origin ecidade_v3 && ./composer.phar install  "'
    environment: production
    only:
        - ecidade_v3

cisame:
    stage: deploy
    script:
        - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
        - 'ssh -o StrictHostKeyChecking=no contass@10.250.30.100 "cd /var/www/cisame && git pull origin ecidade_v3 && ./composer.phar install  "'
    environment: production
    only:
        - ecidade_v3

pmsaojoaomissoes:
    stage: deploy
    script:
       - 'ssh-add <(echo "$PRODUCTION_PRIVATE_KEY")'
       - 'ssh -o StrictHostKeyChecking=no contass@172.31.212.161 "cd /var/www/e-cidade && git pull origin ecidade_v3 && ./composer.phar install  "'
       - 'ssh -p22 contass@172.31.212.161 "cd /var/www/e-cidade && php deploy_git.php "'
    environment: production
    only:
       - ecidade_v3
